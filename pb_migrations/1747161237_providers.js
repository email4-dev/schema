migrate((app) => {
    let providersData = [{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:29:06.961Z","domains":["outlook.com"],"id":"630f68283t0ygw1","name":"Microsoft","updated":"2025-02-06 10:29:06.961Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:31:12.878Z","domains":["gmail.com"],"id":"p1pbhg7hf0t62ah","name":"Google","updated":"2025-02-06 10:31:12.878Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:33:55.494Z","domains":["mandrillapp.com"],"id":"8i5z6g87065mtt8","name":"Mailchimp / Mandrill","updated":"2025-02-06 10:33:55.494Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:40:38.422Z","domains":["mailgun.org"],"id":"8rj1nsi540087z9","name":"Mailgun","updated":"2025-02-06 10:40:38.422Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:43:29.345Z","domains":["amazonaws.com"],"id":"18414pzn550pw51","name":"Amazon SES","updated":"2025-02-06 10:43:29.345Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:47:03.223Z","domains":["sendgrid.net"],"id":"gb308obd89l9452","name":"Sendgrid","updated":"2025-02-06 10:47:03.223Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 10:51:48.581Z","domains":["a2hosting.com","supercp.com"],"id":"518088m4mh7c184","name":"A2 Hosting","updated":"2025-02-06 10:51:48.581Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 11:40:18.785Z","domains":["mimecast.com","mimecast.co.za","mimecast-offshore.com","mimecast-pscom-us.com"],"id":"48jjaxfwr9j7pj4","name":"Mimecast","updated":"2025-02-06 11:40:18.785Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 11:42:10.373Z","domains":["postmarkapp.com"],"id":"i0hnogu56y58ak4","name":"Postmark","updated":"2025-02-06 11:42:10.373Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 11:44:11.154Z","domains":["salesforce.com"],"id":"t0dg53pmx336d66","name":"Salesforce","updated":"2025-02-06 11:44:11.154Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 11:46:05.555Z","domains":["zendesk.com"],"id":"ukk88dcks5l5326","name":"Zendesk","updated":"2025-02-06 11:46:05.555Z"},{"collectionId":"pbc_2249077391","collectionName":"providers","created":"2025-02-06 11:52:22.319Z","domains":["zoho.eu","zoho.com","zoho.in","zoho.com.au","zoho.com.cn","zoho.jp"],"id":"5bg23u740q14jj4","name":"Zoho","updated":"2025-02-06 11:56:12.768Z"}]
    let providerRecordsData = [{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:29:45.259Z","id":"x47xb967h249i01","provider":"630f68283t0ygw1","record":"spf.protection.outlook.com","type":"spf","updated":"2025-02-06 10:29:45.259Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:30:26.720Z","id":"i0tdy69r670zr38","provider":"630f68283t0ygw1","record":"selector1","type":"dkim_cname","updated":"2025-02-06 10:37:45.483Z","value":"selector1-<domainGUID>._domainkey.<initialDomain>"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:30:35.802Z","id":"s0x2t9154tw9tbu","provider":"630f68283t0ygw1","record":"selector2","type":"dkim_cname","updated":"2025-02-06 10:37:42.836Z","value":"selector2-<domainGUID>._domainkey.<initialDomain>"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:31:27.847Z","id":"z1vbdow91yuig93","provider":"p1pbhg7hf0t62ah","record":"_spf.google.com","type":"spf","updated":"2025-02-06 10:31:27.847Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:32:34.002Z","id":"23b94t4gg3rv4ja","provider":"p1pbhg7hf0t62ah","record":"google","type":"dkim_txt","updated":"2025-02-06 10:32:34.002Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:34:35.592Z","id":"64qu01e4x955hdl","provider":"8i5z6g87065mtt8","record":"spf.mandrillapp.com","type":"spf","updated":"2025-02-06 10:34:35.592Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:35:52.132Z","id":"4ecn4040575w618","provider":"8i5z6g87065mtt8","record":"mte1","type":"dkim_cname","updated":"2025-02-06 10:36:39.872Z","value":"dkim1.mandrillapp.com"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:36:08.644Z","id":"6i6j174o3de2wh4","provider":"8i5z6g87065mtt8","record":"mte2","type":"dkim_cname","updated":"2025-02-06 10:36:48.786Z","value":"dkim2.mandrillapp.com"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:40:58.995Z","id":"y0x2010ul1x774h","provider":"8rj1nsi540087z9","record":"mailgun.org","type":"spf","updated":"2025-02-06 10:40:58.995Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:42:41.630Z","id":"rh9b1yq9wicrkfu","provider":"8rj1nsi540087z9","record":"smtp","type":"dkim_txt","updated":"2025-02-06 10:42:41.630Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:44:02.337Z","id":"l5ge262bn3cls5f","provider":"18414pzn550pw51","record":"amazonses.com","type":"spf","updated":"2025-02-06 10:44:02.337Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:46:29.940Z","id":"3reh39o36vp9lxx","provider":"18414pzn550pw51","record":"*","type":"dkim_cname","updated":"2025-02-06 10:46:29.940Z","value":"*.dkim.amazonses.com"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:47:15.717Z","id":"8k814889v9v4101","provider":"gb308obd89l9452","record":"sendgrid.net","type":"spf","updated":"2025-02-06 10:47:15.717Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:48:40.052Z","id":"073p9eo295gtkp7","provider":"gb308obd89l9452","record":"s1","type":"dkim_cname","updated":"2025-02-06 10:48:40.052Z","value":"s1.domainkey.*.sendgrid.net"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:49:01.096Z","id":"7806k9jw16i8c15","provider":"gb308obd89l9452","record":"s2","type":"dkim_cname","updated":"2025-02-06 10:49:01.096Z","value":"s2.domainkey.*.sendgrid.net"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:52:14.835Z","id":"mn5w9ktg7c196pz","provider":"518088m4mh7c184","record":"spf.a2hosting.com","type":"spf","updated":"2025-02-06 10:52:14.835Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 10:52:27.324Z","id":"3ha846s1t1e50iq","provider":"518088m4mh7c184","record":"spf.supercp.com","type":"spf","updated":"2025-02-06 10:52:27.324Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:40:33.750Z","id":"43068f0ijf589sc","provider":"48jjaxfwr9j7pj4","record":"_netblocks.mimecast.com","type":"spf","updated":"2025-02-06 11:40:33.750Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:42:32.401Z","id":"3m0r2ym589d19ri","provider":"i0hnogu56y58ak4","record":"spf.mtasv.net","type":"spf","updated":"2025-02-06 11:42:32.401Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:44:24.464Z","id":"3808c0f9vss550h","provider":"t0dg53pmx336d66","record":"_spf.salesforce.com","type":"spf","updated":"2025-02-06 11:44:24.464Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:46:20.047Z","id":"d08k5m46j438m3f","provider":"ukk88dcks5l5326","record":"mail.zendesk.com","type":"spf","updated":"2025-02-06 11:46:20.047Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:46:52.444Z","id":"1x52x02jfm35ua6","provider":"ukk88dcks5l5326","record":"zendesk1","type":"dkim_cname","updated":"2025-02-06 11:46:52.444Z","value":"zendesk1._domainkey.zendesk.com"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:47:04.869Z","id":"j76zz2b220v2330","provider":"ukk88dcks5l5326","record":"zendesk2","type":"dkim_cname","updated":"2025-02-06 11:47:04.869Z","value":"zendesk2._domainkey.zendesk.com"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:52:34.753Z","id":"7l49s9961d7448n","provider":"5bg23u740q14jj4","record":"one.zoho.eu","type":"spf","updated":"2025-02-06 11:53:59.725Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:54:11.652Z","id":"ldc50y696n83703","provider":"5bg23u740q14jj4","record":"one.zoho.com","type":"spf","updated":"2025-02-06 11:54:11.652Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:54:22.742Z","id":"je5b54jr15bfnr3","provider":"5bg23u740q14jj4","record":"one.zoho.in","type":"spf","updated":"2025-02-06 11:54:22.742Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:54:32.293Z","id":"k7p3gy8zd9f2f69","provider":"5bg23u740q14jj4","record":"one.zoho.com.au","type":"spf","updated":"2025-02-06 11:56:26.585Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:54:43.075Z","id":"19ur9r1556dq27k","provider":"5bg23u740q14jj4","record":"one.zoho.com.cn","type":"spf","updated":"2025-02-06 11:56:21.367Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-06 11:54:54.419Z","id":"889mp3vrw4x7xgb","provider":"5bg23u740q14jj4","record":"one.zoho.jp","type":"spf","updated":"2025-02-06 11:54:54.419Z","value":""},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-09 12:38:04.867Z","id":"d9t9t3gl83110pa","provider":"8i5z6g87065mtt8","record":"k2","type":"dkim_cname","updated":"2025-02-09 12:38:04.867Z","value":"dkim2.mcsv.net"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-09 12:38:20.153Z","id":"wd1084o6oiy31q8","provider":"8i5z6g87065mtt8","record":"k3","type":"dkim_cname","updated":"2025-02-09 12:38:20.153Z","value":"dkim3.mcsv.net"},{"collectionId":"pbc_1923761252","collectionName":"provider_records","created":"2025-02-09 12:38:40.410Z","id":"a73p3v0k7ip6csd","provider":"8i5z6g87065mtt8","record":"mandrill","type":"dkim_txt","updated":"2025-02-09 12:38:40.410Z","value":""}]

    let providers = app.findCollectionByNameOrId("providers")
    let provider_records = app.findCollectionByNameOrId("provider_records")

    providersData.forEach(row => {
        let record = new Record(providers)
        record.set("created", row.created)
        record.set("domains", row.domains)
        record.set("name", row.name)
        app.save(record)
    })

    providerRecordsData.forEach(row => {
        let record = new Record(provider_records)
        record.set("created", row.created)
        record.set("provider", row.provider)
        record.set("record", row.record)
        record.set("type", row.type)
        record.set("value", row.value)
        app.save(record)
    })

}, (app) => { // optional revert operation
    try {
        let provider_records = $app.findAllRecords("provider_records")
        provider_records.forEach(row => app.delete(row))
        let providers = $app.findAllRecords("providers")
        providers.forEach(row => app.delete(row))
    } catch {
        // silent errors (probably already deleted)
    }
})